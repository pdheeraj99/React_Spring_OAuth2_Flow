ðŸ§  Nuvvu *Code (YAML)* ni, *Google Console (Image)* ni, and *Runtime (Logs)* ni kalipi chustunnav. Super\!

Asalu Backend aa URL ni ela "Cook" chestundo, aa recipe neeku clear ga chepta.

### ðŸ­ The URL Factory (Kitchen)

Spring Security lo `OAuth2AuthorizationRequestRedirectFilter` ane chef unnadu. Vadu nee `application.yml` ni recipe book laaga vaadi, aa URL ni construct chestadu.

**The Formula:**
`Final URL` = `authorization-uri` + `client-id` + `redirect-uri` + `scope` + `state` + `response_type`

Mana Case lo ingredients ekkada nundi vastunnayo chudu:

#### 1\. The Base (`authorization-uri`)

  * **Source:** Nee YAML lo `provider.google.authorization-uri`.
  * **Value:** `https://accounts.google.com/o/oauth2/v2/auth`
  * *Logic:* Chef first ee URL rasi, daani pakka `?` pedutadu.

#### 2\. The ID (`client_id`)

  * **Source:** Nee YAML lo `registration.google.client-id`.
  * **Value:** `450472639030-g4g6r5...`
  * *URL Part:* `&client_id=450472...`

#### 3\. The Return Ticket (`redirect_uri`) - âš ï¸ Crucial Logic

  * **Source:** Nee YAML lo `redirect-uri: "{baseUrl}/login/oauth2/code/{registrationId}"`
  * **The Magic:** Spring Boot ikkada smart work chestundi.
      * `{baseUrl}` ni current server run ayye address tho replace chestundi -\> `http://localhost:8080`.
      * `{registrationId}` ni nuvvu YAML lo pettina peru tho replace chestundi -\> `google`.
  * **Result:** `http://localhost:8080/login/oauth2/code/google`
  * *URL Part:* `&redirect_uri=http://localhost:8080/login/oauth2/code/google`

> **ðŸ›‘ STOP & CHECK:** Ikkade asalu validation jarugutundi.
> Spring generate chesina ee URL, nuvvu **Google Console Screenshot** lo paste chesina URL (`.../code/google`) tho **LETTER-TO-LETTER** match avvali. Okka letter marina, Google "Error 400: redirect\_uri\_mismatch" antundi.

#### 4\. The Permissions (`scope`)

  * **Source:** Nee YAML lo `scope: - email - profile`.
  * **Value:** `email profile` (Space separated).
  * *URL Part:* `&scope=email profile`

#### 5\. The Security Token (`state`)

  * **Source:** Auto-generated by Spring Security.
  * **Why?** Idi CSRF protection. Hacker madyalo dhoorithe pattukovadaniki.
  * *URL Part:* `&state=xyz123random`

-----

### ðŸ§© The Final Assembly (Visual Proof)

Nee log lo `Redirecting to...` ani vachindi kada, adi ilaa tayaru ayyindi:

```text
https://accounts.google.com/o/oauth2/v2/auth  <-- (From Provider Config)
?response_type=code                             <-- (Hardcoded: Authorization Code Flow)
&client_id=450472...                            <-- (From Client Config)
&scope=email profile                            <-- (From Scope Config)
&state=zkSfGb...                                <-- (Auto Generated Random String)
&redirect_uri=http://localhost:8080/.../google  <-- (Computed from Template {baseUrl})
```

### ðŸ’¡ Mawa, okka chinna Secret cheppana? (40LPA Insight)

Nuvvu YAML lo:
`redirect-uri: "{baseUrl}/login/oauth2/code/{registrationId}"`
ani enduku rasavu?

Direct ga `http://localhost:8080/login/oauth2/code/google` ani rayachu kada?

**Reason:**
Repu nuvvu ee code ni Production (AWS/Cloud) lo deploy chesthe, domain `localhost` undadu, `https://myapp.com` untundi.

  * Nuvvu hardcode chesthe, prathi sari code marchali.
  * `{baseUrl}` ani pedithe, Spring automatic ga server domain ni detect chesi URL marchestundi. **Idi Engineering ante\!** ðŸ”¥

-----

### âœ… Current Status

Manam **Google Console** (Authorized URI) ni **Spring Config** (YAML) tho perfect ga sync chesam. Anduke neeku flow smooth ga work aindi.